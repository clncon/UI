<!DOCTYPE html>
<html>

  <head>
       <meta name="content-type" content="text/html;charset=UTF-8"/>
    <title>主页</title>
   
	   
       <script type="text/javascript" src="../../js/jquery.min.js"></script>
       
        <script type="text/javascript" src="../../js/jquery.easyui.min.js"></script>
       
        <style type="text/css" rel="stylesheet" href="../../js/themes/default/easyui.css"></style>
        
       
        <link  type="text/css" rel="stylesheet" href="../../js/themes/bootstrap/easyui.css"/>
        
        
        <link  type="text/css" rel="stylesheet" href="../../js/themes/icon.css"/>
     
        <script type="text/javascript" src="../../js/locale/easyui-lang-zh_CN.js"></script>
         <script type="text/javascript">
           $(function(){
        	  itcast.init.pageUI();
        	  
        	  //初始化页面按钮上一些事件
        	  itcast.init.bindEvent();
        	  
        
           })
           
             var itcast = {
        		   
        		   
        		   init:{
        			   
        			   
        			   pageUI:function(){
        				   
        				   $("#easyUITree").tree({
        	        		   
        	        		   url:"treedata.json",
        	        		   animate:true,
        	        		   checkbox:true,
        	        		   lines:true,
        	        		   onClick:function(node){
        	        			   
        	        			   //alert(node.text);
        	        			   
        	        			  //var children = $("#easyUITree").tree("getChildren",node);
        	        			  //alert(children.length);

   								var tabs=$("#center_tab").tabs("getTab",node.text);
   								if(tabs){
   									$("#center_tab").tabs("select",node.text)
   									
   								}else{
   									//添加面板...
   									$("#center_tab").tabs('add',{    
   									    title:node.text,    
   									    //content:'Tab Body',    
   									    closable:true,  
   										href:"../../easyui/href/employee.html",//重新载入一个界面... 
   										onLoad:function(){
   											//alert($("#employeeId").length);
   											$("#employeeId").datagrid({
   												  		columns:[[
   															
   															{title:"游戏名称",width:100,field:'ceci'},
   															{title:"游戏类型",width:100,field:'startstate'},
   															{title:"发售时间",width:100,field:'starttime'},
   															{title:"游戏价格",width:100,field:'totaltime'},
   															{title:"库存量",width:100,field:'swz'},
   															{title:"游戏描述",width:100,field:'bz'}
   														]
   														],
   														fitColumns:true,
   														url:"datagrid.json",
   														toolbar:
   															[{
   																text:"修改",
   																iconCls: 'icon-edit',
   																handler: function(){
   																	
   																	alert('编辑按钮')
   																}
   															},'-',{
   																text:"删除",
   																iconCls: 'icon-help',
   																handler: function(){
   																	alert('帮助按钮')
   																}
   															}]
   														,
   														onLoadSuccess:function(){
   															//创建页面的组件有两种方式  一种是通过标签创建,通过js +页面标签创建...
   															// alert($("#btn").size());
   															$("#btn").linkbutton({
   																iconCls:"icon-add"
   															})
   														},
   														loadMsg:"数据正在加载中....",
   														method:"POST",
   														pagination:true,
   														rownumbers:true,
   														singleSelect:true,
   														striped:true
   												  })
   											
   											
   										}
   										 
   									     
   									});  
   								}
        	        		   }
        	        		   
        	        	   })
        			   },
        			   
        				bindEvent:function(){
   						 $("#btn_1").bind("click",function(){
   						 		$("#txl_tree").tree({
   							 		url:"treedata.json",
   									dnd:true,
   									animate:true,
   									checkbox:true,
   									lines:true,
   									onClick:function(node){
   										//alert(node.text);
   										//控制台打印
   										//console.info(node);
   										//$("#easyUITree").tree("getChildren",node)
   										var children=node.children;
   										alert(children.length)
   									}
   							 	})
   							
   							
   						 		$("#txl_window").window({
   									height:500,
   									width:200,
   									title:"通讯录"
   								})
   							
   							
   						 })
   						
   						  $("#btn_2").bind("click",function(){
   						 	  $.messager.confirm('确认','您确认想要推出系统？',function(r){    
   							    if (r){    
   							        alert('确认删除');    
   							    }    
   							});  
   							
   							
   						 })
   						
   					}
        		   }
        		   
        		   
        		   
           }
			      
				  
				  
        </script>
      
  </head>
  

     <body class="easyui-layout">   
    <div data-options="region:'north',title:'管理员 ',split:true" style="height:100px;">
        <div style="float:right;padding:10px;">
         <a id="btn_1" href="#" class="easyui-linkbutton" data-options="iconCls:'icon-tip'">通讯录</a>
         <a id="btn_2" href="#" class="easyui-linkbutton" data-options="iconCls:'icon-cancel'">退出系统</a>
         </div>
    </div>   
    <div data-options="region:'south',title:' ©2017 Valve Corporation。保留所有权利。所有商标均为其在美国及其它国家/地区的各自持有者所有'" style="height:50px;">
    
    </div>   
    <div data-options="region:'east',iconCls:'icon-reload',title:'East',split:true" style="width:100px;"></div>   
    <div data-options="region:'west',title:'功能菜单'" style="width:250px;">
         <div id="aa" class="easyui-accordion" data-options="fit:true"> 
    <div title="游戏管理"  data-options="selected:true" style="overflow:auto;padding:10px;">   
         <ul id="easyUITree"></ul>
    </div>   
    <div title="用户管理"  style="padding:10px;">   
        
    </div>   
    <div title="论坛管理">   
         
    </div>   
</div> 
     </div>   
    <div data-options="region:'center',title:'center title'" style="padding:5px;background:#eee;">
         ，               <div id="center_tab" class="easyui-tabs" data-options="fit:true" style="width:500px;height:250px;">
             <div title="首页" style="padding:10px">
                ，                                      <img src="../../easyui/image/1.jpg" />
             </div>
         </div>
    
     </div>   
       <div id="txl_window">
          <ul id="txl_tree"></ul>
       </div>
  </body>
</html>
